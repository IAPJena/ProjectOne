<html>
	
<head>
	<title>Procedures</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="generator" content="HelpNDoc Personal Edition 4.3.1.364">
	
	<link type="text/css" rel="stylesheet" media="all" href="css/reset.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/base.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/hnd.css" />
	<!--[if lte IE 8]>
		<link type="text/css" rel="stylesheet" media="all" href="css/ielte8.css" />
	<![endif]-->
	<style type="text/css">
		#topic_header
		{
			background-color: #EFEFEF;
		}
	</style>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/hnd.js"></script>
	<script type="text/javascript">
		$(document).ready(function()
		{
			if (top.frames.length == 0)
			{
				var sTopicUrl = top.location.href.substring(top.location.href.lastIndexOf("/") + 1, top.location.href.length);
				top.location.href = "MatLightTracer Version 1.0 Reference.html?" + sTopicUrl;
			}
			else if (top && top.FrameTOC && top.FrameTOC.SelectTocItem)
			{
				top.FrameTOC.SelectTocItem("Procedures");
			}
		});
	</script>
	
	</head>

<body>

<div id="topic_header">
			<div id="topic_header_content">
				<h1 id="topic_header_text">Procedures</h1>
				
				<div id="topic_breadcrumb">
					<a href="ProgrammingandAlgorithmsReferen1.html">Programming and Algorithms Reference</a> &rsaquo;&rsaquo; <a href="ExamplesofExtendingtheToolbox.html">Examples of Extending the Toolbox</a> &rsaquo;&rsaquo; <a href="TransverseRayAberrationDiagram.html">Transverse Ray Aberration Diagram</a> &rsaquo;&rsaquo; </div>
				</div>
			<div id="topic_header_nav">
				<a href="TransverseRayAberrationDiagram.html"><img src="img/arrow_up.png" alt="Parent"/></a>
				
				<a href="TransverseRayAberrationDiagram.html"><img src="img/arrow_left.png" alt="Previous"/></a>
				
				<a href="Results.html"><img src="img/arrow_right.png" alt="Next"/></a>
				
				</div>
			<div class="clear"></div>
		</div>
	<div id="topic_content">
		
<p></p>
<p class="rvps34"><span class="rvts94">Procedures: Transverse Ray Aberration Diagram</span></p>
<p class="rvps7"><span class="rvts110">Step 1: Define the Input and Outputs</span></p>
<p class="rvps7"><span class="rvts44">Output: </span></p>
<p class="rvps7"><span class="rvts45">Graphs showing the transverse aberration (in X or Y) of sagittal or tangential rays with respect to the cheif ray at a given surface.</span></p>
<p class="rvps7"><span class="rvts44">Input:</span></p>
<p class="rvps7"><span class="rvts45">The analysis window requires the following setting parameters:</span></p>
<div class="rvps3"><table width="75%" border="1" cellpadding="1" cellspacing="2" style="border-color: #000000; border-style: solid; margin: 0px auto;">
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 143px;"><p class="rvps3"><span class="rvts35">Settings</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 236px;"><p class="rvps3"><span class="rvts35">Description</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 148px;"><p class="rvps3"><span class="rvts35">Remarks</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 143px;"><p class="rvps2"><span class="rvts30">Surface Index</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 236px;"><p class="rvps2"><span class="rvts30">The surface index used to compute the transverse aberration.</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 148px;"><p class="rvps23"><span class="rvts30"><br/></span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 143px;"><p class="rvps2"><span class="rvts30">Field Index</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 236px;"><p class="rvps2"><span class="rvts30">Index of the field value &nbsp;for the analysis.</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 148px;"><p class="rvps23"><span class="rvts30">All fields can be used at the same time if a single wavelength is selected.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 143px;"><p class="rvps2"><span class="rvts30">Wavelength Index</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 236px;"><p class="rvps2"><span class="rvts30">Index of the wavelength value &nbsp;for the analysis.</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 148px;"><p class="rvps23"><span class="rvts30">All wavelengths can be used at the same time if a single field point is selected.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 143px;"><p class="rvps2"><span class="rvts30">Number of Rays</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 236px;"><p class="rvps2"><span class="rvts30">The number of rays to be traced per each field point and each wavelength.</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 148px;"><p class="rvps23"><span class="rvts30">Number less than 3 is not recommended.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 143px;"><p class="rvps2"><span class="rvts30">Sagittal</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 236px;"><p class="rvps2"><span class="rvts30">Selects which aberration component to plot for the sagittal fan. </span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 148px;"><p class="rvps23"><span class="rvts30">Since sagittal fans are</span></p>
<p class="rvps2"><span class="rvts30">functions &nbsp;of &nbsp;the &nbsp;x &nbsp;pupil &nbsp;coordinate, &nbsp;the &nbsp;default &nbsp;is to &nbsp;plot &nbsp;the &nbsp;x &nbsp;component &nbsp;of &nbsp;the</span></p>
<p class="rvps2"><span class="rvts30">aberration.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 143px;"><p class="rvps2"><span class="rvts30">Tangential</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 236px;"><p class="rvps2"><span class="rvts30">Selects which aberration component to plot for the tangential fan. </span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 148px;"><p class="rvps23"><span class="rvts30">Since tangential fans</span></p>
<p class="rvps2"><span class="rvts30">are functions of the y pupil coordinate, the default is to plot the y component of the</span></p>
<p class="rvps2"><span class="rvts30">aberration.</span></p>
</td>
</tr>
</table>
</div>
<p class="rvps7"><span class="rvts45"><br/></span></p>
<p class="rvps7"><span class="rvts110">Step 2: Determine the Toolbox Modules to be Extended</span></p>
<p class="rvps7"><span class="rvts45">This feature requires extension of the following modules of the toolbox:</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps7"><span class="rvts44">AODParentWindow Class: </span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps7"><span class="rvts45">A new menu item and/or toolbar button should be added. This can be done by editing the "</span><span class="rvts60">InitializeMenuAndToolbarItems.m</span><span class="rvts45">" file in the class folder. Here a sub menu item called "Ray Aberration" is added to the Optical System menu !! Here is the code added for the menu item addition with corresponding callbacks:</span></li>
</ul></ul>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts116">% Menu Item Definition</span></p>
<p class="rvps63"><span class="rvts60">aodHandles.menuTransverseRayAberration = uimenu( </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Parent'</span><span class="rvts60">, aodHandles.menuOpticalSystemAnalysis, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Tag'</span><span class="rvts60">, </span><span class="rvts113">'menuTransverseRayAberration'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Label'</span><span class="rvts60">, </span><span class="rvts113">'Ray Aberration'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Checked'</span><span class="rvts60">, </span><span class="rvts113">'off'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Callback'</span><span class="rvts60">, {@menuTransverseRayAberration_Callback,parentWindow}); </span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts116">% Menu Item Callback Definition </span></p>
<p class="rvps63"><span class="rvts112">function</span><span class="rvts60"> menuTransverseRayAberration_Callback(~,~,myParent)</span></p>
<p class="rvps65"><span class="rvts60">AODChildWindow(</span><span class="rvts113">'transverseRayAberration'</span><span class="rvts60">,myParent);</span></p>
<p class="rvps63"><span class="rvts112">end</span><span class="rvts115">&nbsp;</span><span class="rvts60"> &nbsp;</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps7"><span class="rvts44">AODChildWindow Class: </span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps7"><span class="rvts45">A new analysis window called "transverseTransverseRayAberration" should be added. </span></li>
<li class="rvps7"><span class="rvts44">Setting Window: </span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;">
<li class="rvps7"><span class="rvts45">Most uicontrols (such as Surface Index, Field Index , ...) required for the new window are already defined in the toolbox as they are used for existing analysis windows. So they can be used directly with out redefining just by setting their position property. &nbsp;But the uicontrols to select tangetial and sagital aberration component are new to the toolbox and so should be defined first in the child window class. </span></li>
<li class="rvps7"><span class="rvts45">Here the toolbox function "</span><span class="rvts60">BuildChildWindowSettingPanel.m</span><span class="rvts45">" is edited as follows:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: disc;">
<li class="rvps7"><span class="rvts45">The child windows are categorized in to different groups to simplify sharing of codes to design their graphical user interfaces. But the new window "transverseTransverseRayAberration" doesn't seems to fit in to any of the existing categories, so it is placed in t the "others" group.</span></li>
</ul></ul></ul></ul>
<p class="rvps64"><span class="rvts49">% Uncategorized</span></p>
<p class="rvps64"><span class="rvts60">others = </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60">{ </span><span class="rvts113">'coatingRefractiveIndexProfile'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'footprintDiagram'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'system2DLayoutDiagram'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'system3DLayoutDiagram'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'paraxialAnalysis'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'pupilApodization'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'transverseRayAberration'</span><span class="rvts60">};</span></p>
<p class="rvps2"><span class="rvts114"><br/></span></p>
<p class="rvps64"><span class="rvts49">% ------------------------------------------------------------</span></p>
<p class="rvps64"><span class="rvts49">% This code was added just in the line just above the line saying "Add any new &nbsp; &nbsp; </span><span class="rvts49"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps64"><span class="rvts49">% uicontrol definitions here"</span></p>
<p class="rvps64"><span class="rvts49">% ------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60">lblTangetialAberration = uicontrol( </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Tag'</span><span class="rvts60">, </span><span class="rvts113">'lblTangetialAberration'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Style'</span><span class="rvts60">, </span><span class="rvts113">'text'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'HorizontalAlignment'</span><span class="rvts60">,</span><span class="rvts113">'Left'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'FontSize'</span><span class="rvts60">,fontSize,</span><span class="rvts113">'FontName'</span><span class="rvts60">, </span><span class="rvts113">'FixedWidth'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'off'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'String'</span><span class="rvts60">, </span><span class="rvts113">'Tangetial'</span><span class="rvts60">);</span></p>
<p class="rvps2"><span class="rvts60"> </span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60">popTangetialAberration = uicontrol( </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Tag'</span><span class="rvts60">, </span><span class="rvts113">'popTangetialAberration'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'FontSize'</span><span class="rvts60">,fontSize,</span><span class="rvts113">'FontName'</span><span class="rvts60">, </span><span class="rvts113">'FixedWidth'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'off'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Style'</span><span class="rvts60">, </span><span class="rvts113">'popupmenu'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'BackgroundColor'</span><span class="rvts60">, [1 1 1], </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'String'</span><span class="rvts60">, [</span><span class="rvts113">'X Aberration'</span><span class="rvts60">,</span><span class="rvts113">'Y Aberration'</span><span class="rvts60">],</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Value'</span><span class="rvts60">,2);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">% ------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; </span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60">lblSagittalAberration = uicontrol( </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Tag'</span><span class="rvts60">, </span><span class="rvts113">'lblSagittalAberration'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Style'</span><span class="rvts60">, </span><span class="rvts113">'text'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'HorizontalAlignment'</span><span class="rvts60">,</span><span class="rvts113">'Left'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'FontSize'</span><span class="rvts60">,fontSize,</span><span class="rvts113">'FontName'</span><span class="rvts60">, </span><span class="rvts113">'FixedWidth'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'off'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'String'</span><span class="rvts60">, </span><span class="rvts113">'Sagittal'</span><span class="rvts60">);</span></p>
<p class="rvps2"><span class="rvts60"> </span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60">popSagittalAberration = uicontrol( </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Tag'</span><span class="rvts60">, </span><span class="rvts113">'popSagittalAberration'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'FontSize'</span><span class="rvts60">,fontSize,</span><span class="rvts113">'FontName'</span><span class="rvts60">, </span><span class="rvts113">'FixedWidth'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'off'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Style'</span><span class="rvts60">, </span><span class="rvts113">'popupmenu'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'BackgroundColor'</span><span class="rvts60">, [1 1 1], </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'String'</span><span class="rvts60">, [</span><span class="rvts113">'X Aberration'</span><span class="rvts60">,</span><span class="rvts113">'Y Aberration'</span><span class="rvts60">],</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Value'</span><span class="rvts60">,1); &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts49"> </span><span class="rvts49"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">%% Add any new uicontrol definitions here</span></p>
<p class="rvps2"><span class="rvts111"><br/></span></p>
<p class="rvps2"><span class="rvts111"><br/></span></p>
<p class="rvps2"><span class="rvts49"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; % The following code was added inside the main switch case &nbsp;= 'others' to position the setting panel uicontrols for the &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;% new analysis window</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">case</span><span class="rvts60"> lower(</span><span class="rvts113">'transverseRayAberration'</span><span class="rvts60">)</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set(lblSurfaceIndex,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Parent'</span><span class="rvts60">, childHandle.panelMainTab(1), </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">, </span><span class="rvts113">'normalized'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'on'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">, [0.02 0.85 0.15 0.09]);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;childHandle.lblSurfaceIndex = lblSurfaceIndex;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set(popSurfaceIndex,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Parent'</span><span class="rvts60">, childHandle.panelMainTab(1), </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">, </span><span class="rvts113">'normalized'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'on'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">, [0.22 0.88 0.25 0.07]);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;childHandle.popSurfaceIndex = popSurfaceIndex;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;childHandle.txtCoatingName = txtCoatingName;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set(lblWavelengthIndex,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Parent'</span><span class="rvts60">, childHandle.panelMainTab(1), </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">, </span><span class="rvts113">'normalized'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'on'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">, [0.53 0.85 0.20 0.09]);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;childHandle.lblWavelengthIndex = lblWavelengthIndex;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set(popWavelengthIndex,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Parent'</span><span class="rvts60">, childHandle.panelMainTab(1), </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">, </span><span class="rvts113">'normalized'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'on'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'String'</span><span class="rvts60">,[</span><span class="rvts113">'All'</span><span class="rvts60">;get(popWavelengthIndex,</span><span class="rvts113">'String'</span><span class="rvts60">)],</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">, [0.73 0.88 0.25 0.07]);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;childHandle.popWavelengthIndex = popWavelengthIndex;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;childHandle.txtWavelength = txtWavelength;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">%------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set(lblFieldIndex,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Parent'</span><span class="rvts60">, childHandle.panelMainTab(1), </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">, </span><span class="rvts113">'normalized'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'on'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">, [0.02 0.75 0.20 0.09]);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;childHandle.lblFieldIndex = lblFieldIndex;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set(popFieldIndex,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Parent'</span><span class="rvts60">, childHandle.panelMainTab(1), </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">, </span><span class="rvts113">'normalized'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'on'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'String'</span><span class="rvts60">,[</span><span class="rvts113">'All'</span><span class="rvts60">;get(popFieldIndex,</span><span class="rvts113">'String'</span><span class="rvts60">)],</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">, [0.22 0.78 0.25 0.07]);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;childHandle.popFieldIndex = popFieldIndex;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set(lblNumberOfRay,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Parent'</span><span class="rvts60">, childHandle.panelMainTab(1), </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">, </span><span class="rvts113">'normalized'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'on'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">, [0.53 0.75 0.20 0.09]);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;childHandle.lblNumberOfRay = lblNumberOfRay;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set(txtNumberOfRay,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Parent'</span><span class="rvts60">, childHandle.panelMainTab(1), </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">, </span><span class="rvts113">'normalized'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'on'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">, [0.73 0.78 0.25 0.07]);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;childHandle.txtNumberOfRay = txtNumberOfRay;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">% ----------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set(lblSagittalAberration,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Parent'</span><span class="rvts60">, childHandle.panelMainTab(1), </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">, </span><span class="rvts113">'normalized'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'on'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">, [0.02 0.65 0.20 0.09]);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;childHandle.lblSagittalAberration = lblSagittalAberration;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set(popSagittalAberration,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Parent'</span><span class="rvts60">, childHandle.panelMainTab(1), </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">, </span><span class="rvts113">'normalized'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'on'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">, [0.22 0.68 0.25 0.07]);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;childHandle.popSagittalAberration = popSagittalAberration;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">% ----------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set(lblTangetialAberration,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Parent'</span><span class="rvts60">, childHandle.panelMainTab(1), </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">, </span><span class="rvts113">'normalized'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'on'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">, [0.53 0.65 0.20 0.09]);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;childHandle.lblTangetialAberration = lblTangetialAberration;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set(popTangetialAberration,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Parent'</span><span class="rvts60">, childHandle.panelMainTab(1), </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">, </span><span class="rvts113">'normalized'</span><span class="rvts60">, </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Visible'</span><span class="rvts60">,</span><span class="rvts113">'on'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">, [0.73 0.68 0.25 0.07]);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;childHandle.popTangetialAberration = popTangetialAberration; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts49"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;%% Add case statements for new windows in the </span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">% "others" category here</span></p>
<p class="rvps2"><span class="rvts96"><br/></span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps7"><span class="rvts44">"Ok" Button:</span><span class="rvts45"> </span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;">
<li class="rvps7"><span class="rvts45">The "Ok" button should also be programmed in the child window class to collect and validate the user inputs from setting window and call a function to perform the analysis.</span></li>
<li class="rvps7"><span class="rvts45">Here the toolbox function "</span><span class="rvts60">btnOkCallback.m</span><span class="rvts45">" is edited as follows:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: disc;">
<li class="rvps7"><span class="rvts45">The child windows are categorized in to different groups to simplify sharing of codes to collect data from the graphical user interfaces. But the new window "transverseTransverseRayAberration" doesn't seems to fit in to any of the existing categories, so it is placed in t the "others" group.</span></li>
</ul></ul></ul></ul>
<p class="rvps64"><span class="rvts49">% Uncategorized</span></p>
<p class="rvps64"><span class="rvts60">others = </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60">{ </span><span class="rvts113">'coatingRefractiveIndexProfile'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'footprintDiagram'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'system2DLayoutDiagram'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'system3DLayoutDiagram'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'paraxialAnalysis'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'pupilApodization'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'transverseRayAberration'</span><span class="rvts60">};</span></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">% The following code was added inside the main switch case = others</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">case</span><span class="rvts60"> lower(</span><span class="rvts113">'transverseRayAberration'</span><span class="rvts60">)</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;surfIndexList = (get(handles.popSurfaceIndex,</span><span class="rvts113">'String'</span><span class="rvts60">));</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;surfIndexString = surfIndexList(get(handles.popSurfaceIndex,</span><span class="rvts113">'Value'</span><span class="rvts60">));</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;surfIndex = str2double(surfIndexString);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">if</span><span class="rvts60"> isnan(surfIndex)</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;disp(</span><span class="rvts113">'The surface index should be valid index number'</span><span class="rvts60">);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">return</span><span class="rvts60">;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">end</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;numberOfRays = str2double(get(handles.txtNumberOfRay,</span><span class="rvts113">'String'</span><span class="rvts60">));</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;wavLengthIndexList = (get(handles.popWavelengthIndex,</span><span class="rvts113">'String'</span><span class="rvts60">));</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;wavLengthIndexString = (wavLengthIndexList(get(handles.popWavelengthIndex,</span><span class="rvts113">'Value'</span><span class="rvts60">),:));</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">if</span><span class="rvts60"> strcmpi(wavLengthIndexString,</span><span class="rvts113">'New Wavelength'</span><span class="rvts60">)</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">elseif</span><span class="rvts60"> strcmpi(wavLengthIndexString,</span><span class="rvts113">'All'</span><span class="rvts60">)</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;wavIndex = 1:1:currentOpticalSystem1.NumberOfWavelengths;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">else</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;wavIndex = str2double(wavLengthIndexString);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">end</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fldIndexList = (get(handles.popFieldIndex,</span><span class="rvts113">'String'</span><span class="rvts60">));</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fldIndexString = (fldIndexList(get(handles.popFieldIndex,</span><span class="rvts113">'Value'</span><span class="rvts60">),:));</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">if</span><span class="rvts60"> strcmpi(fldIndexString,</span><span class="rvts113">'All'</span><span class="rvts60">)</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fldIndex = 1:1:currentOpticalSystem1.NumberOfFieldPoints;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">else</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fldIndex = str2double(fldIndexString);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">end</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">% Check condition that both field index and wavelength are</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">% not multiple at the same time. To avoid having multiple</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">% graphs, All fiedls can be analysed with specific</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">% wavelength and vice versa.</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">if</span><span class="rvts60"> strcmpi(fldIndexString,</span><span class="rvts113">'All'</span><span class="rvts60">) &amp;&amp; strcmpi(wavLengthIndexString,</span><span class="rvts113">'All'</span><span class="rvts60">)</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;disp(</span><span class="rvts113">'Error:Both field index and wavelength index can not be "All" at the same time.'</span><span class="rvts60">);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">return</span><span class="rvts60">;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">end</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">% Extract the wavelength and field point</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;wavLen = &nbsp;[(currentOpticalSystem1.WavelengthMatrix(wavIndex,1))'];</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fieldPointXY = &nbsp;[(currentOpticalSystem1.FieldPointMatrix(fldIndex,1:2))'];</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">% Sagital and tangetial aberration components</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sagAberrCompList = (get(handles.popSagittalAberration,</span><span class="rvts113">'String'</span><span class="rvts60">));</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sagittalAberrComp = sagAberrCompList(get(handles.popSagittalAberration,</span><span class="rvts113">'Value'</span><span class="rvts60">));</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tanAberrCompList = (get(handles.popTangentialAberration,</span><span class="rvts113">'String'</span><span class="rvts60">));</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tangentialAberrComp = tanAberrCompList(get(handles.popTangentialAberration,</span><span class="rvts113">'Value'</span><span class="rvts60">));</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">% Since two graphs will be drawn (sagital and tangential),</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">% handles.panelMainTab(2) is passed instead of the axes</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts49">% handle.</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;currentOpticalSystem1.plotTransverseRayAberration(surfIndex,wavLen,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fieldPointXY,numberOfRays,sagittalAberrComp,tangentialAberrComp,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;handles.panelMainTab(2)); &nbsp; </span></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps7"><span class="rvts44">OpticalSystem Class:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps7"><span class="rvts45">A new method, called "plotTransverseRayAberration" should be added to the class to perform the analysis and plot the result.</span></li>
<li class="rvps7"><span class="rvts45">The function source code is as shown below</span></li>
</ul></ul>
<p class="rvps7"><span class="rvts112">function</span><span class="rvts60"> plotTransverseRayAberration(optSystem,surfIndex,wavLen,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;fieldPointXY,numberOfRays,sagittalAberrComp,tangentialAberrComp,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;plotPanelHandle)</span></p>
<p class="rvps2"><span class="rvts49">% Displays the transverse ray aberration of sagital and tangetial ray fans</span></p>
<p class="rvps2"><span class="rvts49">% on any surface with respect to the cheif ray. </span></p>
<p class="rvps2"><span class="rvts49"> </span></p>
<p class="rvps2"><span class="rvts49">% &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Author Section &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></p>
<p class="rvps2"><span class="rvts49">% &nbsp; Written By: Worku, Norman Girma</span></p>
<p class="rvps2"><span class="rvts49">% &nbsp; Advisor: Prof. Herbert Gross</span></p>
<p class="rvps2"><span class="rvts49">% &nbsp; Part of the RAYTRACE_TOOLBOX V3.0 (OOP Version)</span></p>
<p class="rvps2"><span class="rvts49">% &nbsp; Optical System Design and Simulation Research Group</span></p>
<p class="rvps2"><span class="rvts49">% &nbsp; Institute of Applied Physics</span></p>
<p class="rvps2"><span class="rvts49">% &nbsp; Friedrich-Schiller-University of Jena</span></p>
<p class="rvps2"><span class="rvts49"> </span></p>
<p class="rvps2"><span class="rvts49">% &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Change History Section &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></p>
<p class="rvps2"><span class="rvts49">% Date----------Modified By ---------Modification Detail--------Remark</span></p>
<p class="rvps2"><span class="rvts49">% May 21,2014 &nbsp; Worku, Norman G. &nbsp; &nbsp; Original Version &nbsp; &nbsp; &nbsp;As example of extension</span></p>
<p class="rvps2"><span class="rvts49"> </span></p>
<p class="rvps2"><span class="rvts49">% &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Main Code Section &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></p>
<p class="rvps2"><span class="rvts49"> </span></p>
<p class="rvps2"><span class="rvts49">% Default Inputs</span></p>
<p class="rvps2"><span class="rvts112">if</span><span class="rvts60"> nargin &lt; 7</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;disp(</span><span class="rvts113">'Error: The function requires atleast 6 arguments, optSystem,'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">' surfIndex, wavLen, fieldPointXY, numberOfRays, sagittalAberrComp,'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">' and tangentialAberrComp.'</span><span class="rvts60">);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts112">return</span><span class="rvts60">;</span></p>
<p class="rvps2"><span class="rvts112">elseif</span><span class="rvts60"> nargin == 7</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;axesHandle = axes(</span><span class="rvts113">'Parent'</span><span class="rvts60">,figure,</span><span class="rvts113">'Units'</span><span class="rvts60">,</span><span class="rvts113">'normalized'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">,[0.1,0.1,0.8,0.8]);</span></p>
<p class="rvps2"><span class="rvts112">else</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts112">end</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts60"> </span></p>
<p class="rvps2"><span class="rvts49">% Assign different symbals and colors for lines of d/t wavelengths</span></p>
<p class="rvps2"><span class="rvts49">% and feild points respectively</span></p>
<p class="rvps2"><span class="rvts60">availablelineColor = repmat([</span><span class="rvts113">'b'</span><span class="rvts60">,</span><span class="rvts113">'k'</span><span class="rvts60">,</span><span class="rvts113">'r'</span><span class="rvts60">,</span><span class="rvts113">'g'</span><span class="rvts60">,</span><span class="rvts113">'c'</span><span class="rvts60">,</span><span class="rvts113">'m'</span><span class="rvts60">],1,20); </span><span class="rvts49">% 7*20 = 140</span></p>
<p class="rvps2"><span class="rvts49">% spotSymbal = availableSpotSymbal(1:size(fieldPointXY,2));</span></p>
<p class="rvps2"><span class="rvts60">lineColorList = availablelineColor(1:size(wavLen,2)*size(fieldPointXY,2));</span></p>
<p class="rvps2"><span class="rvts60"> </span></p>
<p class="rvps2"><span class="rvts49">%cla(axesHandle,'reset')</span></p>
<p class="rvps2"><span class="rvts60">delete(allchild(plotPanelHandle));</span></p>
<p class="rvps2"><span class="rvts60">JonesVec = [NaN;NaN];</span></p>
<p class="rvps2"><span class="rvts49">% polarizedRayTracerResult = &nbsp;nSurf X nRay X nField X nWav</span></p>
<p class="rvps2"><span class="rvts49">% pupil sampling = 5: Tangential Plane 6: Sagital Plane</span></p>
<p class="rvps2"><span class="rvts60">PupSamplingTypeSagittal = 6;</span></p>
<p class="rvps2"><span class="rvts60">PupSamplingTypeTangential = 5;</span></p>
<p class="rvps2"><span class="rvts60">[sagittalRayTracerResult] = optSystem.multipleRayTracer(wavLen,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;fieldPointXY,numberOfRays,PupSamplingTypeSagittal,JonesVec);</span></p>
<p class="rvps2"><span class="rvts60">[tangentialRayTracerResult] = optSystem.multipleRayTracer(wavLen,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;fieldPointXY,numberOfRays,PupSamplingTypeTangential,JonesVec);</span></p>
<p class="rvps2"><span class="rvts60"> </span></p>
<p class="rvps2"><span class="rvts60">nSurface = size(sagittalRayTracerResult,1);</span></p>
<p class="rvps2"><span class="rvts60">nRay = size(sagittalRayTracerResult,2);</span></p>
<p class="rvps2"><span class="rvts60">nField = size(sagittalRayTracerResult,3);</span></p>
<p class="rvps2"><span class="rvts60">nWav = size(sagittalRayTracerResult,4);</span></p>
<p class="rvps2"><span class="rvts49">% trace the cheif ray with either primary wavelength (for multiple </span></p>
<p class="rvps2"><span class="rvts49">% wavelength analysis)or the specified wavelength (for single wavelegnth).</span></p>
<p class="rvps2"><span class="rvts112">if</span><span class="rvts60"> nWav &gt; 1 &amp;&amp; nField &gt; 1</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;disp(</span><span class="rvts113">'Error: Both field index and wavelength index can not be multiple at the same time.'</span><span class="rvts60">);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts112">return</span><span class="rvts60">;</span></p>
<p class="rvps2"><span class="rvts112">elseif</span><span class="rvts60"> nWav &gt; 1 &amp;&amp; nField == 1</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts49">% Use the primary wavelength for the cheif ray </span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;cheifRayWavLenInMet = optSystem.getPrimaryWavelength;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts49">% Change wavlegth back to the system wavelength unit</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;wavUnitFactor = optSystem.getWavelengthUnitFactor;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;cheifRayWavLen = cheifRayWavLenInMet/wavUnitFactor;</span></p>
<p class="rvps2"><span class="rvts112">elseif</span><span class="rvts60"> nWav == 1 </span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts49">% Use the specified wavelength for the cheif ray </span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;cheifRayWavLen = wavLen;</span></p>
<p class="rvps2"><span class="rvts112">else</span></p>
<p class="rvps2"><span class="rvts112">end</span></p>
<p class="rvps2"><span class="rvts60">considerSurfAperture = 0;</span></p>
<p class="rvps2"><span class="rvts49">% cheifRayTraceResult: nSurf X nField as each field point has different</span></p>
<p class="rvps2"><span class="rvts49">% cheif rays</span></p>
<p class="rvps2"><span class="rvts60">cheifRayTraceResult = optSystem.traceCheifRay(fieldPointXY,cheifRayWavLen,considerSurfAperture );</span></p>
<p class="rvps2"><span class="rvts60"> </span></p>
<p class="rvps2"><span class="rvts49">% Use different color for diffrent wavelengths and different field points. &nbsp; </span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; </span></p>
<p class="rvps2"><span class="rvts112">for</span><span class="rvts60"> wavIndex = 1:nWav</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts112">for</span><span class="rvts60"> fieldIndex = 1:nField</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;lineIndex = fieldIndex + (wavIndex-1)*nField;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;cheifRayIntersection = [cheifRayTraceResult(surfIndex,fieldIndex).RayIntersectionPoint];</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;cheifRayIntersections = repmat(cheifRayIntersection,[1,nRay]);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;sagittalFanIntersectionPoints = </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[sagittalRayTracerResult(surfIndex,:,fieldIndex,wavIndex).RayIntersectionPoint];</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;tangentialFanIntersectionPoints = </span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[tangentialRayTracerResult(surfIndex,:,fieldIndex,wavIndex).RayIntersectionPoint];</span></p>
<p class="rvps2"><span class="rvts60"> </span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">if</span><span class="rvts60"> strcmpi(sagittalAberrComp,</span><span class="rvts113">'X Aberration'</span><span class="rvts60">)</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sagY(lineIndex,:) = sagittalFanIntersectionPoints(1,:) - cheifRayIntersections(1,:);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;yLabelSag = </span><span class="rvts113">'EX'</span><span class="rvts60">;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">elseif</span><span class="rvts60"> strcmpi(sagittalAberrComp,</span><span class="rvts113">'Y Aberration'</span><span class="rvts60">)</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sagY(lineIndex,:) = sagittalFanIntersectionPoints(2,:) - cheifRayIntersections(2,:);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;yLabelSag = </span><span class="rvts113">'EY'</span><span class="rvts60">;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">else</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">end</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">if</span><span class="rvts60"> strcmpi(tangentialAberrComp,</span><span class="rvts113">'X Aberration'</span><span class="rvts60">)</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tanY(lineIndex,:) = tangentialFanIntersectionPoints(1,:) - cheifRayIntersections(1,:);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;yLabelTan = </span><span class="rvts113">'EX'</span><span class="rvts60">;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">elseif</span><span class="rvts60"> strcmpi(tangentialAberrComp,</span><span class="rvts113">'Y Aberration'</span><span class="rvts60">)</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tanY(lineIndex,:) = tangentialFanIntersectionPoints(2,:) - cheifRayIntersections(2,:);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;yLabelTan = </span><span class="rvts113">'EY'</span><span class="rvts60">;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">else</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts112">end</span><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;xLabelTan = </span><span class="rvts113">'PY'</span><span class="rvts60">;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;xLabelSag = </span><span class="rvts113">'PX'</span><span class="rvts60">;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;sagX(lineIndex,:) = linspace(-1,1,size(sagY,2));</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;tanX(lineIndex,:) = linspace(-1,1,size(tanY,2));</span></p>
<p class="rvps2"><span class="rvts60"> </span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;legendText{lineIndex} = [</span><span class="rvts113">'Field: ['</span><span class="rvts60">,num2str(fieldPointXY(1,fieldIndex)),</span><span class="rvts113">','</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;num2str(fieldPointXY(2,fieldIndex)),</span><span class="rvts113">']'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts113">' Wav: '</span><span class="rvts60">,num2str(wavLen(wavIndex))];</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts112">end</span></p>
<p class="rvps2"><span class="rvts112">end</span></p>
<p class="rvps2"><span class="rvts112"> </span></p>
<p class="rvps2"><span class="rvts49">% Generate two new panel for sagital and tangential fans.</span></p>
<p class="rvps2"><span class="rvts60">tangentialPlotPanel = uipanel(</span><span class="rvts113">'Parent'</span><span class="rvts60">,plotPanelHandle,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">,</span><span class="rvts113">'Normalized'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">,[0.52,0.1,0.45,0.8],</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts113">'Title'</span><span class="rvts60">,[char(tangentialAberrComp),</span><span class="rvts113">' for Tangential Fan'</span><span class="rvts60">]);</span></p>
<p class="rvps2"><span class="rvts60">tangentialPlotAxes = axes(</span><span class="rvts113">'Parent'</span><span class="rvts60">,tangentialPlotPanel,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">,</span><span class="rvts113">'Normalized'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">,[0.1,0.2,0.88,0.6]);</span></p>
<p class="rvps2"><span class="rvts60"> </span></p>
<p class="rvps2"><span class="rvts112">for</span><span class="rvts60"> tanKK = 1:lineIndex</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;currentLineColor = lineColorList(tanKK);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;plot(tangentialPlotAxes,tanX(tanKK,:),tanY(tanKK,:),currentLineColor); &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;hold </span><span class="rvts113">on</span><span class="rvts60">;</span></p>
<p class="rvps2"><span class="rvts112">end</span></p>
<p class="rvps2"><span class="rvts60">grid </span><span class="rvts113">on</span><span class="rvts60">;</span></p>
<p class="rvps2"><span class="rvts60">xlabel(tangentialPlotAxes,xLabelTan,</span><span class="rvts113">'FontSize'</span><span class="rvts60">,12);</span></p>
<p class="rvps2"><span class="rvts60">ylabel(tangentialPlotAxes,yLabelTan,</span><span class="rvts113">'FontSize'</span><span class="rvts60">,12);</span></p>
<p class="rvps2"><span class="rvts60">legend(tangentialPlotAxes,legendText)</span></p>
<p class="rvps2"><span class="rvts60"> </span></p>
<p class="rvps2"><span class="rvts60">sagittalPlotPanel = uipanel(</span><span class="rvts113">'Parent'</span><span class="rvts60">,plotPanelHandle,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">,</span><span class="rvts113">'Normalized'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">,[0.03,0.1,0.45,0.8],</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts113">'Title'</span><span class="rvts60">,[char(sagittalAberrComp),</span><span class="rvts113">' for Sagital Fan'</span><span class="rvts60">]);</span></p>
<p class="rvps2"><span class="rvts60"> </span></p>
<p class="rvps2"><span class="rvts60">sagittalPlotAxes = axes(</span><span class="rvts113">'Parent'</span><span class="rvts60">,sagittalPlotPanel,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts113">'Units'</span><span class="rvts60">,</span><span class="rvts113">'Normalized'</span><span class="rvts60">,</span><span class="rvts112">...</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;</span><span class="rvts113">'Position'</span><span class="rvts60">,[0.1,0.2,0.88,0.6]);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts112">for</span><span class="rvts60"> sagKK = 1:lineIndex</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;currentLineColor = lineColorList(sagKK);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;plot(sagittalPlotAxes,sagX(sagKK,:),sagY(sagKK,:),currentLineColor);</span></p>
<p class="rvps2"><span class="rvts60"> &nbsp; &nbsp;hold </span><span class="rvts113">on</span><span class="rvts60">;</span></p>
<p class="rvps2"><span class="rvts112">end</span></p>
<p class="rvps2"><span class="rvts60">grid </span><span class="rvts113">on</span><span class="rvts60">;</span></p>
<p class="rvps2"><span class="rvts60">xlabel(sagittalPlotAxes,xLabelSag,</span><span class="rvts113">'FontSize'</span><span class="rvts60">,12);</span></p>
<p class="rvps2"><span class="rvts60">ylabel(sagittalPlotAxes,yLabelSag,</span><span class="rvts113">'FontSize'</span><span class="rvts60">,12);</span></p>
<p class="rvps2"><span class="rvts60">legend(sagittalPlotAxes,legendText)</span></p>
<p class="rvps2"><span class="rvts60"> </span></p>
<p class="rvps2"><span class="rvts112">end</span></p>
<p class="rvps7"><span class="rvts45"><br/></span></p>
<p></p>
<p class="rvps6"><span class="rvts20">Created with the Personal Edition of HelpNDoc: </span><a class="rvts21" href="http://www.helpndoc.com">Free EBook and documentation generator</a></p>
</div>
	
	<div id="topic_footer">

			<div id="topic_footer_content">
				Copyright &copy; &lt;2016&gt; by &lt;Norman G. Worku (normangirma2012@gmail.com), Optical System Design Research Group, FSU, Jena&gt;. All Rights Reserved.</div>
		</div>
	</body>
	
</html>

